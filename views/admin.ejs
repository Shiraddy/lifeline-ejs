<%- include('partials/header') %>
<!-- BODY -->
<div class="row">
  <!-- SIDE BAR -->
  <div class="col-lg-2 col-md-3 col-sm-12 shadow-two">
    <nav id="nav">
      <button
        class="navbar-toggler d-lg-none d-flex justify-content-end my-2 ms-2"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasResponsive"
      >
        <span class="navbar-toggler-icon navbar-dark bg-tertiary d-flex"></span>
      </button>
      <div
        class="offcanvas-lg offcanvas-start"
        tabindex="-1"
        id="offcanvasResponsive"
        aria-labelledby="offcanvasResponsiveLabel"
      >
        <div class="offcanvas-header">
          <a class="navbar-brand d-lg-none" href="#">LIFELINE</a>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="offcanvas"
            data-bs-target="#offcanvasResponsive"
          ></button>
        </div>
        <div class="mt-lg-2">
          <img class="admin-pic" src="images/Pic.png" alt="" />
          <ul class="nav navbar-nav admin-ul">
            <a class="admin-list" href="#adminDash"
              ><i class="fa-solid fa-clipboard admin-icon"></i> DASHBOARD
            </a>

            <a class="admin-list" href="#adminTutors"
              ><i class="fa-solid fa-users admin-icon"></i> TUTORS
              <i class="fa-solid fa-chevron-down ms-5 admin-icon"></i
            ></a>

            <a class="admin-list" href="#adminClients"
              ><i class="fa-solid fa-handshake admin-icon"></i> CLIENTS
              <span class="admin-icon"
                ><i class="fa-solid fa-chevron-down ms-5"></i></span
            ></a>

            <a class="admin-list" href="#adminLinks">
              <i class="fa-solid fa-link admin-icon"></i> LINKS
              <i class="fa-solid fa-chevron-down ms-5 admin-icon"></i>
            </a>

            <a class="admin-list" href="#adminLinks">
              <i class="fa-solid fa-file-invoice-dollar admin-icon"></i> FINANCE
              <i class="fa-solid fa-chevron-down ms-5 admin-icon"></i
            ></a>
          </ul>
        </div>
        <!-- <form class="" role="search">
          <input
            class="form-control my-2 shadow-two"
            type="search"
            placeholder="Search"
            aria-label="Search"
          />
          <div class="d-grid">
            <button class="btn btn-success" type="submit">Search</button>
          </div>
        </form> -->
      </div>
    </nav>
  </div>

  <!-- MAIN AREA -->
  <div class="col-lg-10">
    <section id="adminDash" class="admin-body">
      <!-- STATISTICS -->
      <div class="row my-lg-4 my-5">
        <div class="col-lg-3">
          <div class="revenue shadow-two bg-white">
            <h4>Applicants</h4>
            <h5><%= applicants %></h5>
          </div>
        </div>
        <div class="col-lg-3">
          <div class="tutor shadow-two bg-white">
            <h4>Tutors</h4>
            <h5><%= noOfTutors %></h5>
          </div>
        </div>

        <div class="col-lg-3">
          <div class="client shadow-two bg-white">
            <h4>Contracts</h4>
            <h5>1000</h5>
          </div>
        </div>

        <div class="col-lg-3">
          <div class="profit shadow-two bg-white">
            <h4>Students</h4>
            <p>1000</p>
          </div>
        </div>
      </div>

      <!-- MOTIVATION AND TODO -->
      <div class="row mt-lg-3 h-75">
        <div class="col-lg-8">
          <div class="motivation shadow-two py-lg-5 bg-white">
            <h4><%= dayOfWeek %></h4>
            <p class="px-lg-5 px-2">
              WHEN SOMEONE GIVES YOU A SHOVE FROM BEHIND, USE THE MOMENTUM TO
              PROPEL YOURSELF TO SUCCESS. YOU ARE MORE THAN THE SETBACK.
            </p>
          </div>
        </div>

        <!-- TO DO LIST -->
        <div class="col-lg-4">
          <div class="to-do shadow-two bg-white">
            <h6>To Do List</h6>
            <form
              class="my-lg-3 my-2 form-floating"
              action="/todo"
              method="post"
            >
              <input
                class="form-control-sm"
                name="todo"
                type="text"
                placeholder="Set Goals for Today"
                autocomplete="off"
              />
              <button class="btn btn-danger ms-2" type="submit">+</button>
            </form>
            <div class="box px-lg-2 px-2">
              <% for (let i = 0; i < todo.length; i++) { %>
              <div class="todoList form-check">
                <input class="form-check-input" type="checkbox" />
                <p class="form-check-label text-start ps-1">
                  <%= todo[i] %>
                  <button type="button" class="btn-close ps-lg-3"></button>
                </p>
              </div>
              <% } %>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTRACT UPLOAD -->
    <section id="adminNotice" class="form-apply shadow-two my-3 row">
      <div class="col-lg-6 d-none d-lg-block pb-5"></div>
      <div class="col-lg-6 shadow-two bg-white">
        <h4 class="my-lg-4 my-2">UPLOAD CONTRACT</h4>
        <div class="my-lg-3">
          <!-- <label for="">CONTRACT TYPE:</label> <br /> -->
          <select name="type" id="" class="profile-input">
            <option value="">CONTRACT TYPE</option>
            <option value="DUO">DUO</option>
            <option value="TRI">TRI</option>
            <option value="QUAD">QUAD</option>
            <option value="PENT">PENT</option>
          </select>
        </div>

        <div class="">
          <!-- <label class="" for="">Mode of Tuition:</label> <br /> -->
          <select name="mode" id="" class="profile-input">
            <option value="">MODE OF TUITION</option>
            <option value="online">Online</option>
            <option value="in-person">In-Person</option>
          </select>
        </div>

        <div class="my-3">
          <!-- <label for="">Level:</label> <br /> -->
          <select name="level" id="" class="profile-input">
            <option value="">LEVEL OF STUDENT</option>
            <option value="KG">KINDERGARTEN</option>
            <option value="PRIMARY">PRIMARY</option>
            <option value="JHS">JHS</option>
            <option value="SHS">SHS</option>
          </select>
        </div>

        <div class="div">
          <!-- <label for="">Class:</label> <br /> -->
          <input
            class="profile-input"
            type="tel"
            name="class"
            placeholder="CLASS"
          />
        </div>

        <div class="my-3">
          <!-- <label for="">Subjects:</label> <br /> -->
          <textarea
            name="subjects"
            id=""
            class="profile-input-textarea"
            placeholder="TUITION SUBJECT(S)"
          ></textarea>
        </div>

        <div class="div">
          <!-- <label for="">Lesson Duration</label> <br /> -->
          <select name="duration" id="" class="profile-input">
            <option value="">LESSON DURATION</option>
            <option value="1 hour">1 hour</option>
            <option value="1.5 hours">1.5 hrs</option>
            <option value="2 hours">2 hrs</option>
            <option value="2.5 hours">2.5 hrs</option>
            <option value="3 hours">3 hrs</option>
          </select>
        </div>

        <div class="my-3">
          <!-- <label for="">Location:</label> <br /> -->
          <input
            class="profile-input"
            type="text"
            name="location"
            placeholder="LOCATION"
          />
        </div>

        <div class="div">
          <!-- <label for="">Allowance</label> <br /> -->
          <input
            class="profile-input"
            type="text"
            name="allowance"
            placeholder="ALLOWANCE"
          />
        </div>

        <button
          class="btn btn-success my-lg-4 my-3 shadow-two"
          type="submit"
          name="postContract"
        >
          POST CONTRACT
        </button>
      </div>
    </section>

    <!-- NOTICE BOARD -->
    <section id="adminNotice" class="form-apply shadow-two my-3 row">
      <div class="col-lg-6 d-none d-lg-block pb-5"></div>
      <div class="col-lg-6 shadow-two bg-white">
        <h4 class="my-lg-3">NOTICE BOARD</h4>
        <!-- <h3 class="py-1">NOTICE</h3> -->
        <form action="/notice" method="post" class="">
          <div class="my-4">
            <label class="d-flex justify-content-start" for="News Title"
              >TITLE</label
            >

            <input
              class="shadow-one form-control"
              type="text"
              name="title"
              placeholder="Notice Title"
            />
          </div>

          <div class="">
            <label class="label" for="News Title">DATE</label>
            <input
              class="shadow-one form-control"
              type="date"
              name="title"
              placeholder="Notice Title"
            />
          </div>

          <div class="my-4">
            <label for="sendTo" class="label">SEND TO:</label>
            <select name="sendTo" id="" class="shadow-one form-control">
              <!-- <option>Notice To:</option> -->
              <option value="all">All</option>
              <option value="tutors">Tutors</option>
              <option value="applicants">Applicants</option>
            </select>
          </div>

          <div class="">
            <label for="message" class="label">MESSAGE</label>
            <textarea
              class="form-control shadow-one"
              name="message"
              id=""
              placeholder="Enter notice"
            ></textarea>
          </div>
          <!-- <input type="text" name="news" placeholder="News" /> -->
          <div class="">
            <button
              class="btn btn-success shadow-one my-3"
              type="submit"
              name="sendNotice"
            >
              SEND NOTICE
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- EMAIL -->
    <section class="form-apply shadow-two my-lg-4 row">
      <div class="col-lg-6 d-none d-lg-block pb-5 shadow-two"></div>
      <div class="col-lg-6 shadow-two bg-white">
        <h4 class="my-lg-4">BULK EMAIL</h4>
        <!-- <h3 class="py-1">NOTICE</h3> -->
        <form action="/email" method="post" class="" id="emailForm">
          <div class="my-4">
            <label class="d-flex justify-content-start" for="News Title"
              >SUBJECT</label
            >

            <input
              class="form-control shadow-one"
              type="text"
              name="subject"
              placeholder="Enter email subject"
            />
          </div>

          <div class="">
            <label class="label" for="News Title">DATE</label>
            <input
              class="form-control shadow-one"
              type="date"
              name="date"
              placeholder="Notice Title"
            />
          </div>

          <div class="my-4">
            <label for="sendTo" class="label">SEND TO:</label>
            <select name="sendTo" id="" class="form-control shadow-one">
              <option value="all">All</option>
              <option value="tutors">Tutors</option>
              <option value="applicants">Applicants</option>
              <option value="clients">Clients</option>
              <option value="prospects">Prospects</option>
            </select>
          </div>

          <!-- <div class="my-4">
                <label for="sendTo" class="label mb-3">COPY TO:</label>
                <select name="sendTo" id="" class="form-control">
                  <option value="supervisors">Supervisors</option>
                  <option value="management">Management</option>
                  <option value="parents">Parents</option>
                </select>
              </div> -->

          <div class="">
            <label for="message" class="label">MESSAGE</label>
            <textarea
              class="form-control shadow-one"
              name="message"
              id=""
              placeholder="Enter notice"
            ></textarea>
          </div>

          <div class="text-success my-2" id="responseMessage"></div>

          <!-- <input type="text" name="news" placeholder="News" /> -->
          <div class="my-3">
            <button
              class="btn btn-success shadow-one"
              type="submit"
              id="adminEmail"
            >
              SEND EMAIL
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- REGISTER CLIENT -->
    <section id="clientData" class="shadow-two form-apply my-3 bg-white">
      <h3 class="py-lg-4 py-2">TUTOR REQUEST</h3>
      <%- include('partials/form') %>
    </section>

    <!-- TUTOR APPLICATIONS -->
    <section id="clientData" class="form-apply my-3 py-2 px-lg-3 shadow-two">
      <h3 class="py-1">TUTOR PANEL</h3>
      <!-- NavBar -->
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <!-- <a class="navbar-brand text-start" href="#">APPLICATIONS</a> -->
          <button
            class="navbar-toggler dropdown-toggle-split"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavDarkDropdown"
            aria-controls="navbarNavDarkDropdown"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
            <ul class="navbar-nav shadow-one">
              <!-- <i class="fa-solid fa-rotate"></i> -->
              <div
                class="btn-group"
                role="group"
                aria-label="Basic radio toggle button group"
              >
                <input
                  type="radio"
                  class="btn-check"
                  name="btnradio"
                  id="btnradio1"
                  autocomplete="off"
                  checked
                />
                <label class="btn btn-outline-success" for="btnradio1">
                  <span class="badge bg-danger me-2 shadow-two rounded-pill"
                    ><%= applicants %></span
                  >Applicants</label
                >

                <input
                  type="radio"
                  class="btn-check"
                  name="btnradio"
                  id="btnradio2"
                  autocomplete="off"
                />
                <label class="btn btn-outline-success" for="btnradio2"
                  ><span class="badge bg-danger me-2 shadow-two rounded-pill"
                    ><%= noOfTutors %></span
                  >Tutors</label
                >

                <input
                  type="radio"
                  class="btn-check"
                  name="btnradio"
                  id="btnradio3"
                  autocomplete="off"
                />
                <label class="btn btn-outline-success" for="btnradio3"
                  >Pending</label
                >
              </div>
            </ul>
            <form class="form-control-sm mx-5 d-flex ms-auto" role="search">
              <input
                class="me-2 shadow-one"
                type="search"
                placeholder="Search"
                aria-label="Search"
              />
              <button class="btn btn-outline-success shadow-one" type="submit">
                Search
              </button>
            </form>
          </div>
        </div>
      </nav>

      <%# console.log(applications) %>

      <!-- TUTOR TABLE -->
      <div class="table-responsive">
        <table class="table table-bordered table-hover">
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Contact</th>
              <th>Student Status</th>
              <th>Application Status</th>
              <!-- <th>Location</th> -->
              <th>Email</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <% applications.forEach(function(application, index) { %>
            <tr data-application-id="<%= application.id %>">
              <td><%= index + 1 %></td>
              <td>
                <%= application.data.lastName %> <%= application.data.firstName
                %>
              </td>
              <td><%= application.data.contact %></td>
              <td><%= application.data.studentStatus %></td>
              <td><%= application.data.status %></td>
              <!-- <td><%#= application.data.location %></td> -->
              <td><small><%= application.data.email %></small></td>
              <td>
                <!-- ACTION BUTTONS -->
                <div class="d-flex justify-content-center">
                  <button
                    type="button"
                    class="btn tutorIcon me-2 update-data"
                    data-bs-toggle="modal"
                    data-bs-target="#update"
                  >
                    <a><i class="fa-solid fa-pen-to-square"></i></a>
                  </button>

                  <button class="btn tutorIcon me-2 delete-row">
                    <a><i class="fa-solid fa-trash"></i></a>
                  </button>
                </div>
              </td>
            </tr>
            <% }); %>
          </tbody>
        </table>
      </div>

      <!-- Bootstrap Toast -->
      <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 5">
        <div
          id="toastContainer"
          class="toast hide"
          role="alert"
          aria-live="assertive"
          aria-atomic="true"
        >
          <div class="toast-header">
            <strong class="me-auto">Update Status</strong>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="toast"
              aria-label="Close"
            ></button>
          </div>
          <div class="toast-body" id="toastMessage"></div>
        </div>
      </div>

      <!-- UPDATE INFO -->
      <form action="/post" class="modal" id="update" tabindex="-1">
        <fieldset
          class="modal-content modal-dialog modal-dialog-centered modal-dialog-scrollable"
          data-section="1"
        >
          <div class="row modal-body modal-dialog-scrollable">
            <h5 class="my-4 d-flex justify-content-start modal-header">
              APPLICANT DATA
            </h5>

            <div class="col-lg-6">
              <label class="label" for="firstName">First Name</label>
              <input
                id="firstName"
                disabled
                class="apply-input"
                type="text"
                name="firstName"
                placeholder=""
                autocapitalize="words"
              />
              <div class="error-message">This is a required field</div>
            </div>

            <div class="col-lg-6">
              <label class="label" for="lastName">Last Name</label>
              <input
                id="lastName"
                disabled
                class="apply-input"
                type="text"
                name="lastName"
                placeholder=""
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="DoB">Date of Birth</label>
              <input
                class="apply-input"
                type="text"
                disabled
                name="DoB"
                id="DoB"
                placeholder=""
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="tutorEmail">Email Address</label>
              <input
                class="apply-input"
                type="email"
                name="tutorEmail"
                id="tutorEmail"
                disabled
                placeholder="Enter Email Address"
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="studentStatus">Student Status</label>
              <input
                id="studentStatusOfApplicant"
                disabled
                class="apply-input"
                type="text"
                name="studentStatus"
              />
            </div>

            <!-- Graduate -->
            <div class="col-lg-6">
              <label class="label" for="schoolAttended">School Attended</label>
              <input
                id="schoolAttended"
                disabled
                required
                class="apply-input"
                type="text"
                name="schoolAttended"
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="yearCompleted"
                >Year of Completion</label
              >
              <input
                id="yearCompleted"
                required
                class="apply-input"
                disabled
                type="text"
                name="yearCompleted"
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="courseStudied">Course Studied</label>
              <input
                id="courseStudied"
                required
                class="apply-input"
                disabled
                type="text"
                name="courseStudied"
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="school">Certificate Attained</label>
              <input
                id="certificateAttained"
                required
                class="apply-input"
                disabled
                type="text"
                name="school"
              />
            </div>

            <!-- Undergraduate -->
            <div class="col-lg-6">
              <label class="label" for="course">School Attending</label>
              <input
                id="schoolAttending"
                required
                disabled
                class="apply-input"
                type="text"
                name="course"
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="course">Level</label>
              <input
                id="levelOfApplicant"
                required
                disabled
                class="apply-input"
                type="text"
                name="course"
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="course">Course Studying</label>
              <input
                id="course"
                required
                disabled
                class="apply-input"
                type="text"
                name="course"
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="course">Certificate Pursuing</label>
              <input
                id="certificatePursuing"
                required
                disabled
                class="apply-input"
                type="text"
                name="course"
              />
            </div>

            <div class="col-lg-6">
              <label class="label" for="statusofApplication"
                >Application Status</label
              >
              <select
                name="qualification"
                id="qualification"
                class="apply-input"
              >
                <option value="qualified">Qualified</option>
                <option value="disqualified">Disqualified</option>
                <option value="pending">Pending</option>
              </select>
            </div>

            <div class="col-lg-6">
              <label class="label" for="statusofApplication">Rating</label>
              <select name="rating" id="applicationrating" class="apply-input">
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">C</option>
              </select>
            </div>

            <div class="col-lg-6">
              <label class="label" for="statusofApplication">Category</label>
              <select
                name="category"
                id="applicationCategory"
                class="apply-input"
              >
                <option value="tutor">Tutor</option>
                <option value="applicant">Applicant</option>
              </select>
            </div>

            <!-- BUTTON -->
            <div
              class="py-3 d-lg-flex justify-content-end pe-lg-3 modal-footer"
            >
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>

              <button
                class="btn btn-danger me-lg-3"
                id="update-data"
                type="submit"
              >
                Update Data
              </button>
            </div>
          </div>
        </fieldset>
      </form>

      <div class="table-responsive">
        <table class="table table-bordered table-hover">
          <!-- <h4>Tutors</h4> -->
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Contact</th>
              <th>Student Status</th>
              <th>Application Status</th>
              <!-- <th>Location</th> -->
              <th>Email</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <% tutors.forEach(function(tutor, index) { %>
            <tr data-application-id="<%= tutor.id %>">
              <td><%= index + 1 %></td>
              <td><%= tutor.data.lastName %> <%= tutor.data.firstName %></td>
              <td><%= tutor.data.contact %></td>
              <td><%= tutor.data.studentStatus %></td>
              <td><%= tutor.data.status %></td>
              <!-- <td><%#= tutor.data.location %></td> -->
              <td><small><%= tutor.data.email %></small></td>
              <td>
                <!-- ACTION BUTTONS -->
                <div class="d-flex justify-content-center">
                  <!-- <button
                    type="button"
                    class="btn tutorIcon me-2 view-details"
                    data-bs-toggle="modal"
                    data-bs-target="#detail"
                  >
                    <a><i class="fa-solid fa-expand"></i></a>
                  </button> -->

                  <button
                    type="button"
                    class="btn tutorIcon me-2 update-data"
                    data-bs-toggle="modal"
                    data-bs-target="#update"
                  >
                    <a><i class="fa-solid fa-pen-to-square"></i></a>
                  </button>

                  <button class="btn tutorIcon me-2 delete-row">
                    <a><i class="fa-solid fa-trash"></i></a>
                  </button>
                </div>
              </td>
            </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
    </section>
  </div>
</div>

<%- include('partials/end') %>
